import "../../../../../org.thingml.samples/src/main/thingml/thingml.thingml"

thing TestMixStreamsAndEvent includes Test
@test "ab # 12"
@test "ac # 13"
@test "ad # 14"
{
	 
	statechart TestInit init S1 {

		state S1 {
			
            internal
			stream s1 from event harnessIn?testIn
			trigger s1->c == '\'a\''
			action harnessOut!testOut('\'1\'') 

			transition -> S2
			event e : harnessIn?testIn
			guard e.c == '\'b\''

            transition -> S3
			event e : harnessIn?testIn
			guard e.c == '\'c\''

            transition -> S4
			event e : harnessIn?testIn
			guard e.c == '\'d\''

            
		}

		state S2 {
            on entry do
                print "S2"
                harnessOut!testOut('\'2\'')
            end
		}

        state S3 {
            on entry do
                print "S3"
                harnessOut!testOut('\'3\'')
            end
		}

        state S4 {
            on entry do
                print "S4"
                harnessOut!testOut('\'4\'')
            end
		}
	}
}