import "../thingml.thingml"

//Input: 12221

thing Tester includes TestHarness, TimerClient
{
	statechart Tester init e0 {
		state e0 {
			on entry timer!timer_start(500)
			transition -> e1
			event timer?timer_timeout
			action test!testIn('\'1\'')
		}
		state e1 {
			on entry timer!timer_start(500)
			transition -> e2
			event timer?timer_timeout
			action test!testIn('\'2\'')
		}
		state e2 {
			on entry timer!timer_start(500)
			transition -> e3
			event timer?timer_timeout
			action test!testIn('\'2\'')
		}
		state e3 {
			on entry timer!timer_start(500)
			transition -> e4
			event timer?timer_timeout
			action test!testIn('\'2\'')
		}
		state e4 {
			on entry timer!timer_start(500)
			transition -> e5
			event timer?timer_timeout
			action test!testIn('\'1\'')
		}
		state e5 {
			on entry timer!timer_start(500)
			transition -> e6
			event timer?timer_timeout
		}
		state e6 {
			on entry testEnd!testEnd()
		}
	}
}